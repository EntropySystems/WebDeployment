var M=Object.defineProperty;var A=(s,t,i)=>t in s?M(s,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[t]=i;var b=(s,t,i)=>(A(s,typeof t!="symbol"?t+"":t,i),i);import{S as B,i as V,s as D,H,k as N,a as R,l as k,m as w,h as C,c as U,n as P,b as G,C as E,E as O,I,J as q,K as J,g as W,d as X,F as z}from"./index.1a2f513e.js";import{w as Q}from"./index.bc84d06c.js";function Y(s){let t,i,l,f,n,r,o;const a=s[7].default,c=H(a,s,s[6],null);return{c(){t=N("div"),i=N("div"),f=R(),c&&c.c(),this.h()},l(u){t=k(u,"DIV",{class:!0});var d=w(t);i=k(d,"DIV",{class:!0,style:!0}),w(i).forEach(C),f=U(d),c&&c.l(d),d.forEach(C),this.h()},h(){P(i,"class","underline svelte-12jfgdl"),P(i,"style",l=s[1]+"; "+s[0]),P(t,"class","text svelte-12jfgdl")},m(u,d){G(u,t,d),E(t,i),E(t,f),c&&c.m(t,null),n=!0,r||(o=[O(t,"mouseover",s[2]),O(t,"mouseout",s[3])],r=!0)},p(u,[d]){(!n||d&3&&l!==(l=u[1]+"; "+u[0]))&&P(i,"style",l),c&&c.p&&(!n||d&64)&&I(c,a,u,u[6],n?J(a,u[6],d,null):q(u[6]),null)},i(u){n||(W(c,u),n=!0)},o(u){X(c,u),n=!1},d(u){u&&C(t),c&&c.d(u),r=!1,z(o)}}}function Z(s,t,i){let{$$slots:l={},$$scope:f}=t,{enabled:n=!1}=t,{detectHover:r=!0}=t,{style:o=""}=t,a;function c(){r&&i(4,n=!0)}function u(){r&&i(4,n=!1)}return s.$$set=d=>{"enabled"in d&&i(4,n=d.enabled),"detectHover"in d&&i(5,r=d.detectHover),"style"in d&&i(0,o=d.style),"$$scope"in d&&i(6,f=d.$$scope)},s.$$.update=()=>{s.$$.dirty&16&&i(1,a=n?"transform: scaleX(1); transform-origin: bottom center":"")},[o,a,c,u,n,r,f,l]}class te extends B{constructor(t){super(),V(this,t,Z,Y,D,{enabled:4,detectHover:5,style:0})}}var K={},j={},F={},S={};(function(s){Object.defineProperty(s,"__esModule",{value:!0}),s.unescapeContent=void 0;const t=i=>{let l="";for(let f=i[0],n=0;n<i.length;n++,f=i[n])if(f==="\\"){const r=i[n+1];switch(r){case"f":{l+="\f",n++;break}case"n":{l+=`
`,n++;break}case"r":{l+="\r",n++;break}case"t":{l+="	",n++;break}case"u":{const o=i.slice(n+2,n+6);if(!/[\da-f]{4}/i.test(o))throw new Error("malformed escaped unicode characters '\\u".concat(o,"'"));l+=String.fromCodePoint(Number.parseInt(o,16)),n+=5;break}default:l+=r,n++}}else l+=f;return l};s.unescapeContent=t})(S);(function(s){var t=S;Object.defineProperty(s,"__esModule",{value:!0}),s.Property=void 0;function i(r,o,a){return o=l(o),o in r?Object.defineProperty(r,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[o]=a,r}function l(r){var o=f(r,"string");return typeof o=="symbol"?o:o+""}function f(r,o){if(typeof r!="object"||r===null)return r;var a=r[Symbol.toPrimitive];if(a!==void 0){var c=a.call(r,o||"default");if(typeof c!="object")return c;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(r)}class n{constructor(o,a,c){i(this,"key",""),i(this,"escapedKey",""),i(this,"hasNoKey",!1),i(this,"hasMultilineKey",!1),i(this,"keyCollisionLines",[]),i(this,"hasKeyCollisions",!1),i(this,"value",""),i(this,"escapedValue",""),i(this,"hasNoValue",!1),i(this,"newlinePositions",[]),this.linesContent=o.content,this.startingLineNumber=a,this.endingLineNumber=a,this.previousProperty=c,c==null||c.setNextProperty(this)}setNextProperty(o){this.nextProperty=o}addLine(o){0<this.linesContent.length&&(this.newlinePositions.push(this.linesContent.length),this.endingLineNumber++),this.linesContent+=o.content}setKeyAndValue(){this.findSeparator(),this.separatorPosition!==void 0&&this.separatorLength!==void 0?(!this.hasNoKey&&(this.escapedKey=this.linesContent.slice(0,this.separatorPosition),this.key=this.unescapeLine(this.escapedKey,this.startingLineNumber)),!this.hasNoValue&&(this.escapedValue=this.linesContent.slice(this.separatorPosition+this.separatorLength),this.value=this.unescapeLine(this.escapedValue,this.startingLineNumber))):this.hasNoValue&&(this.escapedKey=this.linesContent,this.key=this.unescapeLine(this.escapedKey,this.startingLineNumber))}unescapeLine(o,a){try{return(0,t.unescapeContent)(o)}catch(c){throw new Error("".concat(c.message," in property starting at line ").concat(a))}}findSeparator(){if(!(this.hasNoKey||this.hasNoValue||this.separatorPosition)){for(let c=this.linesContent[0],u=0;u<this.linesContent.length;u++,c=this.linesContent[u]){var o;if(!/[\t\f :=]/.test(c))continue;const d=u?this.linesContent.slice(0,u):"";if(0<d.length){const m=d.match(/(?<backslashes>\\+)$/);if(m!=null&&m.groups&&!!(m.groups.backslashes.length%2))continue}let y="";this.separatorPosition=u;let e=this.linesContent.slice(u);const h=e.match(/^(?<whitespace>\s+)/),p=(h==null||(o=h.groups)===null||o===void 0?void 0:o.whitespace)||"";if(0<p.length&&(y+=p,e=e.slice(p.length)),/[:=]/.test(e[0])){var a;y+=e[0],e=e.slice(1);const m=e.match(/^(?<whitespace>\s+)/),g=(m==null||(a=m.groups)===null||a===void 0?void 0:a.whitespace)||"";y+=g}this.separatorLength=y.length,this.valuePosition=this.separatorPosition+this.separatorLength,this.separator=this.linesContent.slice(this.separatorPosition,this.separatorPosition+this.separatorLength),u||(this.hasNoKey=!0);break}this.separatorPosition===void 0?this.hasNoValue=!0:0<this.newlinePositions.length&&this.newlinePositions[0]<this.separatorPosition&&(this.hasMultilineKey=!0)}}}s.Property=n})(F);var T={};(function(s){Object.defineProperty(s,"__esModule",{value:!0}),s.PropertyLine=void 0;function t(n,r,o){return r=i(r),r in n?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o,n}function i(n){var r=l(n,"string");return typeof r=="symbol"?r:r+""}function l(n,r){if(typeof n!="object"||n===null)return n;var o=n[Symbol.toPrimitive];if(o!==void 0){var a=o.call(n,r||"default");if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(n)}class f{constructor(r,o){if(t(this,"isContinuing",!1),t(this,"isBlank",!1),t(this,"isComment",!1),this.content=r.trimStart(),this.isMultiline=o,this.content.length===0)this.isBlank=!0;else if(this.isMultiline||(this.isComment=!!/^[!#]/.test(this.content)),!this.isComment){const a=this.content.match(/(?<backslashes>\\+)$/);a!=null&&a.groups&&(this.isContinuing=!!(a.groups.backslashes.length%2),this.isContinuing&&(this.content=this.content.slice(0,-1)))}}}s.PropertyLine=f})(T);(function(s){Object.defineProperty(s,"__esModule",{value:!0}),s.getFirstEolCharacter=s.Properties=s.KeyCollisions=s.DEFAULT_END_OF_LINE_CHARACTER=s.BOM_CODE_POINT=s.BOM=void 0;var t=F,i=T;function l(y,e,h){return e=f(e),e in y?Object.defineProperty(y,e,{value:h,enumerable:!0,configurable:!0,writable:!0}):y[e]=h,y}function f(y){var e=n(y,"string");return typeof e=="symbol"?e:e+""}function n(y,e){if(typeof y!="object"||y===null)return y;var h=y[Symbol.toPrimitive];if(h!==void 0){var p=h.call(y,e||"default");if(typeof p!="object")return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(y)}const r="\uFEFF";s.BOM="\uFEFF";const o="\uFEFF".codePointAt(0);s.BOM_CODE_POINT=65279;const a=`
`;s.DEFAULT_END_OF_LINE_CHARACTER=`
`;const c=y=>{const e=y.indexOf(`
`);return 0>e?void 0:"".concat(y[e-1]==="\r"?"\r":"",`
`)};s.getFirstEolCharacter=c;class u{constructor(e){var h;l(this,"collection",[]),l(this,"keyLineNumbers",{});const p=typeof e=="string"?e:e.toString();this.hasBom=p.codePointAt(0)===o,this.eolCharacter=(h=c(p))!==null&&h!==void 0?h:a,this.lines=(this.hasBom?p.slice(1):p).split(/\r?\n/),this.parseLines()}parseLines(){this.collection=[],this.keyLineNumbers={};let e,h,p=0;for(const m of this.lines){p++;const g=new i.PropertyLine(m,!!e);if(e){if(e.addLine(g),g.isContinuing)continue}else if(g.isComment||g.isBlank||(e=new t.Property(g,p,h),g.isContinuing))continue;this.addToCollection(e),h=e,e=void 0}}addToCollection(e){var h;e.setKeyAndValue(),(h=this.keyLineNumbers[e.key])!==null&&h!==void 0&&h.length?(this.keyLineNumbers[e.key].push(e.startingLineNumber),e.hasKeyCollisions=!0,e.keyCollisionLines=this.keyLineNumbers[e.key],this.collection=this.collection.filter(p=>p.key!==e.key)):this.keyLineNumbers[e.key]=[e.startingLineNumber],this.collection.push(e)}getKeyCollisions(){const e=[];for(const[h,p]of Object.entries(this.keyLineNumbers))1<p.length&&e.push(new d(h,p));return e}toObject(){const e={};return this.collection.forEach(h=>{e[h.key]=h.value}),e}format(e){return"".concat(this.hasBom?r:"").concat(this.lines.join(e||this.eolCharacter))}}s.Properties=u;class d{constructor(e,h){this.key=e,this.startingLineNumbers=h}getApplicableLineNumber(){return this.startingLineNumbers.slice(-1)[0]}}s.KeyCollisions=d})(j);(function(s){var t=j;Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"Properties",{enumerable:!0,get:function(){return t.Properties}}),s.getProperties=void 0;const i=l=>new t.Properties(l).toObject();s.getProperties=i})(K);const _=class{static async init(){{window.bundles=this.bundles;for(const t in this.locales){const i=this.locales[t],l=`${this.directory}/${this.base.replace("{key}",i)}`,n=await(await fetch(l,{method:"GET"})).text();this.bundles[i]=L.loadFrom(n)}this.store.update(()=>t=>_.internalGet(t))}}static internalGet(t){const i=this.resolveLocale(),l=this.bundles[i];return(l==null?void 0:l.get(t))??`?${t}?`}static resolveLocale(){{const t=navigator.language,i=this.locales.find(f=>f==t);return i||(this.locales.find(f=>t.startsWith(f))??this.locales.find(f=>t.includes(f))??this.defaultLocale)}}};let v=_;b(v,"directory","i18n/locales"),b(v,"base","locale_{key}.properties"),b(v,"locales",["en","ko"]),b(v,"bundles",{}),b(v,"defaultLocale",_.locales[0]),b(v,"store",Q(t=>_.internalGet(t)));class L{constructor(){b(this,"record",{})}get(t){return this.record[t]??`?${t}?`}keys(){return Object.keys(this.record)}static loadFrom(t){const i=K.getProperties(t),l=new L;return l.record=i,l}}const ie=v.store;v.init();export{v as I,te as S,ie as _};
